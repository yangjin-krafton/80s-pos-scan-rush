# 첫 접속 인게임 툴팁형 튜토리얼 제안

## 요약
- 첫 접속(또는 새 게임) 시, 플레이 흐름을 끊지 않는 **간접 안내형 튜토리얼**을 적용.
- 강제 연출 대신 **툴팁/하이라이트/짧은 힌트**로 단계별 유도.
- 1회만 노출하고 이후는 `설정에서 재생`으로 선택 가능.

## 현재 코드 구조(핵심)
- HTML/CSS
  - `src/index.html`
  - `src/css/*.css` (레이아웃/오버레이/인포바 등 분리)
- JS 모듈
  - `src/js/main.js` (앱 부팅)
  - `src/js/game.js` (게임 루프/플로우)
  - `src/js/state.js` (전역/런 상태)
  - `src/js/ui.js` (UI 렌더/조작)
  - `src/js/scanner.js` (스캔 로직)
  - `src/js/data.js` (데이터 로딩)
  - `src/js/audio.js` (사운드)
- 데이터
  - `src/data/products.csv`, `src/data/npcs.json`

## 튜토리얼 방향성
- **툴팀(툴팁) 방식**: 사용자가 행동할 때만 짧게 나타나고 자동으로 사라짐.
- **플레이 중 유도**: 강제 정지 없이, 해당 행동을 해야만 단계가 진행되는 구조.
- **저공수**: 기존 UI 요소에 하이라이트/콜아웃만 추가.

## 단계 제안(초기 4~6 스텝)
1. **장바구니 클릭**
   - 우측 장바구니 영역 하이라이트 + “먼저 물건을 집어보세요.”
2. **스캔 영역으로 이동**
   - 스캐너 영역 강조 + “바코드를 스캐너 위에 올려주세요.”
3. **스캔 성공 안내**
   - 성공 사운드/텍스트 “좋아요! 이제 봉투로 옮겨요.”
4. **봉투 담기**
   - 좌측 봉투 영역 하이라이트
5. **POS 확인**
   - POS 리스트 강조 + “스캔한 항목이 등록됐어요.”
6. **계산 버튼**
   - 계산 버튼 강조 + “모두 담았으면 계산해요.”

## 구현 제안(최소 변경)
### 1) 상태 플래그
- `state.js`에 `tutorial` 스테이트 추가
  - 예: `tutorial = { enabled, step, completed }`
  - `localStorage`로 1회 노출 관리

### 2) UI 하이라이트/툴팁
- `ui.js`에서 공통 유틸 추가
  - `showTooltip(targetEl, text, options)`
  - `highlight(targetEl, on)`
- CSS는 `overlay.css` 또는 신규 `tutorial.css`로 분리

### 3) 단계 진행 조건
- `game.js` 또는 `ui.js`에서 이벤트 훅
  - 장바구니 클릭 시 step++
  - 스캔 성공 시 step++
  - 봉투로 이동 시 step++
  - POS 리스트 렌더 완료 시 step++
  - 계산 버튼 hover/클릭 시 step++

## UX 디테일
- 툴팁은 1~2줄, 최대 3초 노출, 행동 시 즉시 해제.
- 실수 유도형 텍스트 금지: “이렇게 하면 안 돼요” 대신 “이렇게 하면 됩니다”.
- 실패 시에도 다음 힌트는 유지(스트레스 최소화).

## 검증 체크리스트
- 첫 접속에서만 노출되는가
- 튜토리얼이 게임 진행을 막지 않는가
- 스캔 성공/이동/계산 등 실제 플레이 루프와 맞물리는가
- 모바일/저해상도에서도 툴팁이 화면 밖으로 나가지 않는가

## 다음 단계(원하면)
1. 툴팁 UI 시안(텍스트/위치/애니메이션) 작성
2. 튜토리얼 상태 머신 간단 구현
3. 튜토리얼 설정 토글 추가
